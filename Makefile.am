SUBDIRS = libaccounts-glib docs tests tools
if ENABLE_PYTHON
SUBDIRS += pygobject
endif

ACLOCAL_AMFLAGS = -I m4

DISTCHECK_CONFIGURE_FLAGS = \
	--enable-gtk-doc \
	--enable-introspection=yes \
	--enable-man

pkgconfigdir = $(libdir)/pkgconfig
pkgconfig_in_files = libaccounts-glib.pc.in
pkgconfig_DATA = $(pkgconfig_in_files:.pc.in=.pc)

backupconfdir = ${prefix}/share/backup-framework/applications
backupconf_in_files = accounts.conf.in 
backupconf_DATA = $(backupconf_in_files:.conf.in=.conf)

CLEANFILES = \
	$(backupconf_DATA)

DISTCLEANFILES = \
	$(pkgconfig_DATA)

dist_noinst_DATA = \
	$(backupconf_in_files) \
	m4/introspection.m4

$(backupconf_DATA): $(backupconf_in_files) 
	$(AM_V_GEN)$(SED) -e "s|\@DATABASE_DIR\@|$(DATABASE_DIR)|" $< > $@
